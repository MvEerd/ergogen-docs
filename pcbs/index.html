<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">PCBs | Ergogen docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://ergogen.github.io/pcbs"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="PCBs | Ergogen docs"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><link data-react-helmet="true" rel="shortcut icon" href="/img/ergogen.png"><link data-react-helmet="true" rel="canonical" href="https://ergogen.github.io/pcbs"><link data-react-helmet="true" rel="alternate" href="https://ergogen.github.io/pcbs" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ergogen.github.io/pcbs" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9a6a2a33.css">
<link rel="preload" href="/assets/js/runtime~main.c068ff77.js" as="script">
<link rel="preload" href="/assets/js/main.46246da9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/ergogen.png" alt="Ergogen docs logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/ergogen.png" alt="Ergogen docs logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Ergogen docs</b></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/">Getting started</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/config-overview">Config overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/preprocessing">Preprocessing</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/metadata">Metadata</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/units">Units</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/points">Points</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/outlines">Outlines</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/cases">Cases</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/pcbs">PCBs</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/formats">File formats</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/usage">Usage</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/next-steps">Next steps</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>PCBs</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>Everything should be ready for a handwire at this point, but if you&#x27;d like the design to be more accessible to, and easily replicable by others, you might want to design a PCB as well.
To help you get started, Ergogen can automatically position the necessary footprints and an edge cut (or, other markings) so that all you need to do manually in KiCAD is the routing.
(Or, not even that, if you decide to use an auto-router.)</p><br><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h2><p>A <code>pcbs</code> block in the config looks something like the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">pcbs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">&lt;pcb_name&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">outlines</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">outline</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;reference to existing outline</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># required</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">layer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;which KiCAD layer to draw on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># default = Edge.Cuts</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">footprints</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">where</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># same as for outlines</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">asym</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> source </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> clone </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> both </span><span class="token comment" style="color:rgb(98, 114, 164)"># same as for outlines, default = both</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">adjust</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;anchor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># same as for outlines</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">what</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;footprint to use</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;param object for the footprint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">references</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> whether to show component references on the pcb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># default = false</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># name of the PCB template to use, default = kicad5</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> &lt;anything</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> pcb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">level custom parameters passed to the template</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The <code>pcbs.outlines</code> and the <code>pcbs.footprints</code> sections can both contain either arrays or objects, just like with outline or case parts previously.
Use whichever is more convenient.</p></div></div><p>The most common use for the <code>pcbs.&lt;pcb_name&gt;.outlines</code> section is to define an edge cut for the pcb.
Simply reference one of the previously defined outlines through the <code>outline</code> setting and you&#x27;re good to go.
Additionally, the section can also be used to send arbitrary marks to other silk or user defined layers, if its <code>layer</code> setting is specified.</p><p>Then comes the meat of the pcb declaration: placing footprints.
The <code>where</code>/<code>asym</code>/<code>adjust</code> keys do the exact same thing they did for <a href="/outlines#common-attributes">Outlines</a>, only now the points they produce will be used to place the footprint selected by the <code>what</code> key.
For a list of built-in footprints available, please check the contents of <a href="https://github.com/ergogen/ergogen/tree/master/src/footprints" target="_blank" rel="noopener noreferrer">this folder</a> â€“ the basename of each file here is what we can specify under the <code>what</code> key.
As for what parameters the chosen footprint can take, please refer to the footprint file&#x27;s top comment (or the <code>params</code> section within the module exports).</p><p>Footprint parameters can be simple values like booleans/numbers/strings, aggregate values like arrays/objects, or custom Ergogen-specific values like &quot;net&quot; or &quot;anchor&quot;.</p><ul><li><p><strong>Nets</strong> are identified by a unique string name, but they are also indexed internally so that KiCAD knows what should connect where. Every component designated to the same net should be connected together once the PCB is routed.</p></li><li><p><strong>Anchors</strong> can be used to pass points to the footprint other than the position it will be placed at.</p></li></ul><p>It&#x27;s important to uniformly note, though, that parameter parsing supports templating, as discussed under <a href="/points#keys">Points</a>. This means that key-level attributes can be passed along as footprint parameters, so when placing a footprint at multiple points, each footprint instance will have its appropriate parameter value overridden by the current point.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>For example: assuming custom <code>from_net</code> and <code>to_net</code> attributes have been filled out in the points section, all keys on the keyboard can be placed by a single footprint declaration through templating, like so:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">pcbs.&lt;pcb_name&gt;.footprints</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">where</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># everywhere</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">what</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> mx </span><span class="token comment" style="color:rgb(98, 114, 164)"># Cherry MX type switches</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">from</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;{{from_net}}&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># double curly braces means templating...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;{{to_net}}&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># so, reading from the point&#x27;s key-level attributes</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div><p>After both outlines and footprints are placed, only some fine-tuning is left for Ergogen to do:</p><ul><li><p>Globally show or hide all footprint references on the final PCB according to the <code>references</code> key.</p></li><li><p>Fill the PCB metadata:</p><ul><li>the name according to the <code>&lt;pcb_name&gt;</code> given in the config,</li><li>the version and author according to the top level <code>meta.version</code> and <code>meta.author</code> (see <a href="/metadata">Metadata</a>).</li></ul></li><li><p>Paste the calculated outlines and footprints into the correct PCB template (specified via <code>pcbs.&lt;pcb_name&gt;.template</code>).</p></li></ul><p>The result is an <strong>un-routed</strong> KiCAD PCB, meaning that while everything knows what it <strong>should</strong> connect to, nothing&#x27;s actually connected yet.
It&#x27;s because the logistics (or, more like, the &quot;topology&quot;) of potentially intersecting traces is not exactly trivial for a machine to automatically figure out.
From this point on, we can either trust an auto-router program to try and figure it out anyway (which is entirely possible for a simple keyboard project, even if not trivial), or we can route the connections manually (which is not nearly as hard as these disclaimers make it sound, by the way).</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Keyboards tend to incorporate lots of keys, while microcontrollers tend to lack that many general purpose I/O pins.
The most common solution is matrix wiring, which you can learn about <a href="http://blog.komar.be/how-to-make-a-keyboard-the-matrix/" target="_blank" rel="noopener noreferrer"><strong>here</strong></a> or <a href="https://www.dairequinlan.com/2020/12/the-keyboard-part-2-the-matrix/" target="_blank" rel="noopener noreferrer"><strong>here</strong></a>.
Additionally, <a href="https://wiki.ai03.com/books/pcb-design/page/pcb-guide-part-1---preparations" target="_blank" rel="noopener noreferrer"><strong>here</strong></a>&#x27;s a very good introductory KiCAD tutorial covering most bases.</p></div></div><br><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Simple Keys + MCU</summary><div><div class="collapsibleContent_3OHp"><p></p><div><div value="config" label="Config" default=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div value="visualization" label="Visualization"><div style="text-align:center"></div></div></div><p></p></div></div></details><br><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="footprints"></a>Footprints<a class="hash-link" href="#footprints" title="Direct link to heading">#</a></h2><p>Ergogen provides a set of default, built-in footprints for the most common use-cases (again, found and documented in <a href="https://github.com/ergogen/ergogen/tree/master/src/footprints" target="_blank" rel="noopener noreferrer">this folder</a>), designers might want to (or need to) extend this set with custom footprints.
And while they don&#x27;t have to modify the Ergogen codebase to achieve this (see <a href="/formats#bundles">bundles</a>), they do need to provide an &quot;Ergogen-ized&quot; version of the raw KiCAD footprint file.</p><p>Each Ergogen-ized footprint is a <code>.js</code> file that looks something like the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  params</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    designator</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;_&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// the only semi-required param, for naming components on the PCB</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// and now any other param names, with default values supplied</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// note that the default value also tells Ergogen the param&#x27;s type</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    bool_param</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    string_param</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;default&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    number_param</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">42</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    array_param</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;b&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// regular array</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    object_param</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">a</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> b</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// regular object</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// expanded definitions, so we know these are not just regular objects</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    net_param</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;net&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;GND&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    anchor_param</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;anchor&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;existing_point_name&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">body</span><span class="token operator">:</span><span class="token plain"> </span><span class="token parameter">parsed_params</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// any procedural code returning &quot;filled out&quot; KiCAD footprint</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">      (module something (layer something)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">        </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">parsed_params</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">at</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">        // bla bla bla</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">        </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">parsed_params</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">any_other_param</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">        // bla bla bla</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">      )</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">    </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>So the main export is an object containing A) a <code>params</code> sub-object declaring what can be / should be supplied to this footprint as a parameter (as well as default values for these, hinging at the type of the param), and then a <code>body</code> function that gets the parsed (and potentially, user-overridden) parameters and spits out a KiCAD module that can be inserted into a template as a raw string.</p><p>Of the <code>params</code>, only the <code>designator</code> is shared among all footprint types, as the footprint needs to be called <em>something</em> on the generated PCB. By default, it&#x27;s just an underscore (<code>_</code>). This then acts as a prefix that gets a number suffix to make the name for each footprint of this kind unique. All other parameters are optional and footprint-specific, which users can override in their configs.</p><p>The heavy lifting is done by the <code>body</code> function, that converts the footprint&#x27;s template to an actual footprint string (after some optional procedural calculations, loops, parameter-based conditional branching, etc.). It&#x27;s where the position and rotation of the footprint are inserted into its <code>at</code> clause (so it&#x27;ll end up where we want it on the PCB), and where the reference name and any other custom parameters are &quot;filled out&quot; (for example, which pad or through-hole should connect to which net).</p><p>Boolean, string, number, array and object parameters can be used intuitively (since they&#x27;re already JavaScript datatypes), but a note on Ergogen-specific nets and anchors:</p><ul><li><p><code>net</code> type parameters return net-objects that have the following fields:</p><ul><li><code>name</code> - the name of the net</li><li><code>index</code> - the numeric index of the net (sometimes KiCAD needs this info, too)</li><li><code>str</code> - a string representation, containing both name and index, defined as <code>(net ${index} &quot;${name}&quot;)</code> (and this is also the default string representation of the whole object, if printed directly).</li></ul></li><li><p><code>anchor</code> type parameters get points that have the expected <code>x</code>/<code>y</code>/<code>r</code> fields, plus the corresponding metadata of the point under the <code>meta</code> key.</p></li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>If you&#x27;re creating a custom Ergogen footprint, your best bet is looking at how an existing footprint incorporates the actual KiCAD footprint text and wraps it with its own minimal &quot;infrastructure&quot;. From there, you can just A) make the positioning parametric, B) decouple a few parameters you want the users to be able to specify in their configs, and C) swap out the occurrences of those values in the footprint text for references to the corresponding parameter values.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="footprint-api"></a>Footprint API<a class="hash-link" href="#footprint-api" title="Direct link to heading">#</a></h3><p>As you saw in the previous section, the <code>body</code> function of a footprint gets a <code>parsed_params</code> object from which it can use the pre-parsed, footprint-specific, and potentially overridden parameter values declared in its <code>params</code> section, plus a few other values/functions Ergogen uniformly provides for all footprints:</p><ul><li><p><code>ref</code>: The computed reference name of the component. Defined as the designator of the footprint plus a running index suffix. (So, for example, <code>D4</code> for the fourth diode, assuming <code>D</code> is the designator for diodes.)</p></li><li><p><code>ref_hide</code>: a boolean flag indicating whether to show the above <code>ref</code> on the silkscreen of the PCB (derived from <code>pcbs.&lt;pcb_name&gt;.references</code>)</p></li><li><p><code>x</code>/<code>y</code>/<code>r</code>/<code>rot</code>/<code>xy</code>/<code>at</code>: values to help position the footprint where it needs to go.</p><ul><li><code>x</code>/<code>y</code>/<code>r</code> contain plain numbers with the appropriate values for the current point (<code>rot</code> being a deprecated synonym for <code>r</code>),</li><li><code>xy</code> is a string representation of <code>x</code> and <code>y</code> together, defined as <code>${x} ${y}</code>, and</li><li><code>at</code> is the full <code>at</code> positioning clause expected by KiCAD containing all three coordinates, defined as <code>(at ${x} ${y} ${r})</code>.</li></ul></li><li><p><code>isxy</code>, <code>iaxy</code>, <code>esxy</code>, <code>eaxy</code>: these functions help with positioning sub-elements inside and outside the main <code>module</code>/<code>footprint</code> context. See the next section for details.</p></li><li><p><code>local_net</code>: this function helps define nets that are local to each footprint instance - implemented as nets whose names are prefixed by the <code>ref</code>erence of the footprint they&#x27;re local to. For example, the call <code>local_net(&#x27;trace&#x27;)</code> within the a diode footprint with designator <code>D</code> leads to (a properly indexed) <code>D1_trace</code> net object in the first instance, <code>D2_trace</code> in the second, etc. (so that you don&#x27;t have to worry about ambiguous references when using a footprint multiple times).</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="footprint-coordinates"></a>Footprint Coordinates<a class="hash-link" href="#footprint-coordinates" title="Direct link to heading">#</a></h3><p>Footprint coordinate behavior has to be divided along the internal/external, and the symmetric/asymmetric axes. In this context, internal means coordinates within a KiCAD <code>module</code>/<code>footprint</code>, which are already going to be affected by the module&#x27;s overall position and rotation, while external means coordinates outside of modules (for example, traces, segments, zones that accompany the main module in the same shared footprint file). Symmetric means that we want a clockwise rotation or a right-pointing trace to be counter-clockwise and left-pointing, respectively, when applied to a mirrored point, while asymmetric means that we don&#x27;t want this special treatment. This leads to a nice 2x2 matrix:</p><ul><li><p>Internal Symmetric: use the <code>isxy</code> function (read <strong>I</strong>nternal <strong>S</strong>ymmetric <strong>XY</strong>-position), which just takes the input x and y values, inverts the x if the source is a mirrored point, and that&#x27;s it.</p></li><li><p>Internal Asymmetric: use the <code>iaxy</code> function (read <strong>I</strong>nternal <strong>A</strong>symmetric <strong>XY</strong>-position) to ignore whether a point is mirrored or not, so rightward shifts will be rightward, even on mirrored points (leading to an asymmetric end result, hence the name of this category).</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This case doesn&#x27;t need any functions, strictly speaking, as hardcoding the x and y values directly into the KiCAD string (within a module!) would behave like this by default anyway.
<code>iaxy</code> is available mostly to complete the pattern and to prevent the author&#x27;s OCD from flaring up.</p></div></div></li><li><p>External Symmetric: use the <code>esxy</code> function (read <strong>E</strong>xternal <strong>S</strong>ymmetric <strong>XY</strong>-position), which applies the same shift and rotation context to the values as a module environment would first, so that the same relative input XY values can lead to the same location both inside and outside modules. The &quot;S&quot; in the same means that we want &quot;Symmetry&quot; through special mirroring treatment, thereby negating the horizontal shifts appropriately when dealing with mirrored points.</p></li><li><p>External Asymmetric: use the <code>eaxy</code> function, which applies the same constant context as the External Symmetric case, only it does so (you guessed it) asymmetrically.</p></li></ul><p>All four of these are used in the form <code>[i/e][s/a]xy(x, y)</code> - so, a function call with the desired <code>x</code> and <code>y</code> values supplied as parameters, returning an object with the following fields:</p><ul><li><code>x</code>/<code>y</code> for the properly calculated coordinate values for the given use-case, and</li><li><code>str</code> containing both <code>x</code> and <code>y</code> in string form, similarly to how the footprint&#x27;s global position was supplied via <code>parsed_params.xy</code>, defined as <code>${x} ${y}</code> (and this is also the default string representation of the whole object, if printed directly).</li></ul><br><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="templates"></a>Templates<a class="hash-link" href="#templates" title="Direct link to heading">#</a></h2><p>Besides footprints, Ergogen also provides a set of default, built-in templates for different KiCAD versions (found in <a href="https://github.com/ergogen/ergogen/tree/master/src/templates" target="_blank" rel="noopener noreferrer">this folder</a>). But, again, designers might want a custom template. And, again, they don&#x27;t have to modify the Ergogen codebase to achieve this (see <a href="/formats#bundles">bundles</a>), only supply a <code>.js</code> file that looks something like the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// convert MakerJS shapes into KiCAD shapes</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">convert_outline</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">model</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> layer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// create the final KiCAD PCB from the precomputed parts</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">body</span><span class="token operator">:</span><span class="token plain"> </span><span class="token parameter">parts</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This stuff is really technical, but if you&#x27;re this deep, you probably (need to) know that Ergogen relies on MakerJS for its 2D geometry. It&#x27;s the template&#x27;s job to convert these shapes to a format that KiCAD can understand for the Edge.Cuts (or any other silkscreen markings). It&#x27;s also the template&#x27;s job to take these converted shapes, along with the already prepared footprints, nets and other metadata, and combine them into a single text representation that is KiCAD&#x27;s <code>.kicad_pcb</code> file. Or something else, if you&#x27;re targeting another format...</p><p><code>convert_outline</code> gets the shape in MakerJS format as <code>model</code> plus the <code>layer</code> onto which this shape needs to print, and returns a text representation of the shape in the PCB&#x27;s language.</p><p><code>body</code> creates the final PCB using the <code>parts</code> object that contains the following:</p><ul><li><code>name</code>: the name of the PCB, based on the config,</li><li><code>version</code>: the version of the PCB, based on the <a href="/metadata"><code>meta</code> block</a>,</li><li><code>author</code>: the author of the PCB, based on the <a href="/metadata"><code>meta</code> block</a>,</li><li><code>nets</code>: an object containing all nets present in the PCB, formatted as <code>{name: index, ...}</code>,</li><li><code>footprints</code>: an array of all precomputed footprints, already in their final text form (see <a href="#footprints">Footprints</a> above),</li><li><code>outlines</code>: an object of all precomputed shapes from <code>convert_outlines</code>, formatted as <code>{name: text, ...}</code>,</li><li><code>custom</code>: any other custom user-supplied parameters from <code>pcbs.&lt;pcb_name&gt;.params</code>.</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>As with footprints, your best bet is looking at <a href="https://github.com/ergogen/ergogen/tree/master/src/templates" target="_blank" rel="noopener noreferrer">existing PCB templates</a> when creating your own. There you will see how a conversion from MakerJS happens, and how the final PCB is laid out (both of which you can then modify according to the new format you&#x27;re targeting).</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ergogen/ergogen-docs/edit/main/docs/pcbs.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cases"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Cases</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/formats"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">File formats Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a></li><li><a href="#footprints" class="table-of-contents__link">Footprints</a><ul><li><a href="#footprint-api" class="table-of-contents__link">Footprint API</a></li><li><a href="#footprint-coordinates" class="table-of-contents__link">Footprint Coordinates</a></li></ul></li><li><a href="#templates" class="table-of-contents__link">Templates</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Absolem</div><ul class="footer__items"><li class="footer__item"><a href="https://zealot.hu/absolem/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Absolem blogpost</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="http://discord.ergogen.xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Ergogen. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c068ff77.js"></script>
<script src="/assets/js/main.46246da9.js"></script>
</body>
</html>